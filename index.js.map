{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction getImagesByQuery(query) {\n  return axios\n    .get(\n      `https://pixabay.com/api/?key=49659648-1ebf0f70bcfba68f8c305ff0f&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n    .then(function (response) {\n      if (response.data.hits.length == 0) {\n        iziToast.error({\n          title: '',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n        });\n      } else {\n        return response.data.hits;\n      }\n    })\n    .catch(error => {\n      return error;\n    });\n}\n\nexport default getImagesByQuery;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst ul = document.querySelector('.gallery');\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nfunction createGallery(images) {\n  let markup = '';\n\n  images.forEach(image => {\n    markup += `\n    <li>\n      <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"\" />\n        <table>\n          <thead>\n            <tr class=\"th\">\n              <th>Likes</th>\n              <th>Views</th>\n              <th>Comments</th>\n              <th>Downloads</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>${image.likes}</td>\n              <td>${image.views}</td>\n              <td>${image.comments}</td>\n              <td>${image.downloads}</td>\n            </tr>\n          </tbody>\n        </table>\n      </a>\n    </li>\n  `;\n  });\n\n  ul.insertAdjacentHTML('beforeend', markup);\n  gallery.refresh();\n}\nexport default createGallery;\n\nconst loader = document.querySelector('#loader');\nfunction showLoader() {\n  loader.classList = '';\n}\nfunction hideLoader() {\n  loader.classList = 'hide';\n}\nfunction clearGallery() {\n  ul.innerHTML = '';\n}\nexport { showLoader, hideLoader, clearGallery };\n","import getImagesByQuery from './js/pixabay-api';\nimport createGallery from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { showLoader, hideLoader, clearGallery } from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  clearGallery();\n  let userWrited = e.target.elements['search-text'];\n  if (userWrited.value.trim()) {\n    showLoader();\n    getImagesByQuery(userWrited.value)\n      .then(images => {\n        if (images.length != 0) {\n          createGallery(images);\n        } else {\n          iziToast.error({\n            title: '',\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            position: 'topRight',\n          });\n        }\n      })\n      .catch(error => {\n        return error;\n      })\n      .finally(() => {\n        hideLoader();\n      });\n    userWrited.value = '';\n  }\n});\n"],"names":["getImagesByQuery","query","axios","response","iziToast","error","ul","gallery","SimpleLightbox","createGallery","images","markup","image","loader","showLoader","hideLoader","clearGallery","form","e","userWrited"],"mappings":"owBAIA,SAASA,EAAiBC,EAAO,CAC/B,OAAOC,EACJ,IACC,qEAAqED,CAAK,0DAC3E,EACA,KAAK,SAAUE,EAAU,CACxB,GAAIA,EAAS,KAAK,KAAK,QAAU,EAC/BC,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,SAAU,UACpB,CAAS,MAED,QAAOD,EAAS,KAAK,IAE7B,CAAK,EACA,MAAME,GACEA,CACR,CACL,CCrBA,MAAMC,EAAK,SAAS,cAAc,UAAU,EAE5C,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EACD,SAASC,EAAcC,EAAQ,CAC7B,IAAIC,EAAS,GAEbD,EAAO,QAAQE,GAAS,CACtBD,GAAU;AAAA;AAAA,iBAEGC,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAYtCA,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,oBACXA,EAAM,QAAQ;AAAA,oBACdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAOnC,CAAG,EAEDN,EAAG,mBAAmB,YAAaK,CAAM,EACzCJ,EAAQ,QAAO,CACjB,CAGA,MAAMM,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CACpBD,EAAO,UAAY,EACrB,CACA,SAASE,GAAa,CACpBF,EAAO,UAAY,MACrB,CACA,SAASG,GAAe,CACtBV,EAAG,UAAY,EACjB,CC7CA,MAAMW,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChBF,IACA,IAAIG,EAAaD,EAAE,OAAO,SAAS,aAAa,EAC5CC,EAAW,MAAM,SACnBL,IACAd,EAAiBmB,EAAW,KAAK,EAC9B,KAAKT,GAAU,CACVA,EAAO,QAAU,EACnBD,EAAcC,CAAM,EAEpBN,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,SAAU,UACtB,CAAW,CAEX,CAAO,EACA,MAAMC,GACEA,CACR,EACA,QAAQ,IAAM,CACbU,GACR,CAAO,EACHI,EAAW,MAAQ,GAEvB,CAAC"}